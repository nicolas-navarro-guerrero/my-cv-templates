%******************************************************************************
%\title mymoderncvdebugtools.sty
%\brief
% 
% Original by Xavier Danaux (xdanaux@gmail.com)
%             http://www.ctan.org/pkg/moderncv
% Copyright (C) 2013 Nicolas Navarro-Guerrero
% Contact:	nicolas.navarro.guerrero@gmail.com
%		https://github.com/nicolas-navarro-guerrero/
% Created in: October 2013
% Last Modification by: Nicolas Navarro-Guerrero
% Last Modification in: October 2013
%
% LICENSE:
%  This file is part of
%  "my-cv-templates"
%
%  "my-cv-templates"
%  is free software: you can redistribute it and/or modify it under the terms of
%  the GNU General Public License as published by the Free Software Foundation,
%  either version 3 of the License, or (at your option) any later version.
%
%  "my-cv-templates"
%  is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
%  without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
%  PARTICULAR PURPOSE. See the GNU General Public License for more details.
%
%  You should have received a copy of the GNU General Public License along with
%  "my-cv-templates".
%  If not, see <http://www.gnu.org/licenses/>.
%******************************************************************************

%-------------------------------------------------------------------------------
%                identification
%-------------------------------------------------------------------------------
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{mymoderncvdebugtools}[2013/04/29 v1.5.1 my modern curriculum vitae and letter debug tools]


%-------------------------------------------------------------------------------
%                required packages
%-------------------------------------------------------------------------------
\RequirePackage{tikz}


%-------------------------------------------------------------------------------
%                debug tools
%-------------------------------------------------------------------------------
% code of \tracedebugvrule and \tracedebughrule provided by Gonzalo Medina on TeX.SX (cfr tex.stackexchange.com/a/110805/10102)
\newcounter{debugrule}
\pgfdeclarelayer{background}
\pgfsetlayers{background,main}

\DeclareDocumentCommand{\tracedebugvrule}{oO{0pt}}{%
  \stepcounter{debugrule}%
  \begin{tikzpicture}[remember picture,overlay]
    \begin{pgfonlayer}{background}
      \coordinate (a\thedebugrule);
      \draw[red,thin,#1] 
        ([xshift=#2]a\thedebugrule|-current page.north) -- ([xshift=#2]a\thedebugrule|-current page.south);
    \end{pgfonlayer}
  \end{tikzpicture}}

\DeclareDocumentCommand{\tracedebughrule}{oO{0pt}}{%
  \stepcounter{debugrule}%
  \begin{tikzpicture}[remember picture,overlay]
    \begin{pgfonlayer}{background}
    \coordinate (b\thedebugrule);
      \draw[red,thin,#1] 
       ([yshift=#2]b\thedebugrule-|current page.west) -- ([yshift=#2]b\thedebugrule-|current page.east);
    \end{pgfonlayer}
  \end{tikzpicture}}


\endinput

%% end of file `mymoderncvdebugtools.sty'.
